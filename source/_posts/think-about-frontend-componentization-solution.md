---
title: 前端组件化方案探讨
date: 2016-04-13 20:07:49
author: yangxu
category: web开发
tags: [前端, 组件化]
---

# 前端组件化方案探讨

前端组件化这个词已经被玩了很久了，angular，react也流行了很久，在我们团队，由于是内部应用项目，目前的架构设计比较简单，对后续的维护和扩展都不太方便，所以最近也在尝试接入比较先进的组件化模式，本文记录一些改造过程中的思考。

### 一切皆组件

组件化的核心是解耦和分治，为此我们需要改变传统的网页开发思维，之前通常的做法是先写出页面的html结构和css样式，然后完成js脚本，这种方式通常是把页面作为一个整体来考虑的，而组件化的基本思想就是一切皆组件，大到页面、路由，小到按钮、图片，都可以认为是一个独立的组件，每个组件包含它自己的html、css和js部分，根据状态和属性的不同呈现不同的展现，通过各种组件的组合和嵌套，我们就得到了一个完整的页面。

### 组件维度

既然说到一切皆组件，那么在划分组件的时候如何控制粒度也是一个问题，往细了划分可以分到标签维度，这样子我们可以定义一套自己的基础标签，然后往上生成一套基础控件，再往上是模块，页面，这种方式复用性极高，但是工程量很大，还需要一套完善的组件设计规范；往粗了划分就是按照可见的功能区块进行分，这种方式实现效率高，但是复用性要差一些，所以在实际开发中还是要根据项目情况把控组件粒度，在开发效率和可复用性中找到一个平衡。

### 数据传递

组件的数据决定了组件的展现，对于组件数据，建议的做法是统一管理，所有的数据、更改数据的方法、加载数据的方法，集中在一处管理，由页面根组件把数据分别派发到各个组件，类似facebook的flux架构，这样子可以有效的控制数据的流向和数据源的唯一性。

